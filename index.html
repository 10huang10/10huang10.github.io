<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>登入頁</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
    <h2>登入</h2>
    <input id="user" placeholder="帳號"><input id="pass" placeholder="密碼" type="password">
    <button onclick="login()">登入</button>
    <hr>
    <h3>註冊帳號</h3>
    <input id="newUser" placeholder="新帳號"><input id="newPass" placeholder="新密碼" type="password">
    <button onclick="register()">註冊</button>
    <script>
      function login() {
        const u = user.value, p = pass.value;
        const users = JSON.parse(localStorage.getItem("users") || "{}");
        if (users[u] && users[u].password === p) {
          localStorage.setItem("loggedInUser", u);
          location.href = "dashboard.html";
        } else alert("登入失敗");
      }
      function register() {
        const u = newUser.value, p = newPass.value;
        let users = JSON.parse(localStorage.getItem("users") || "{}");
        if (users[u]) return alert("帳號已存在");
        users[u] = { password: p };
        localStorage.setItem("users", JSON.stringify(users));
        alert("註冊成功");
      }
      document.addEventListener("DOMContentLoaded", function () {
    const savedTheme = localStorage.getItem("theme") || "light";
    document.body.className = savedTheme;
  });
  const lang = localStorage.getItem("lang") || "zh";
  if (lang === "en") {
    document.getElementById("pageTitle").textContent = "My Budget Book";
  } else {
    document.getElementById("pageTitle").textContent = "我的記帳本";
  }
  </script>
</body>
</html>
